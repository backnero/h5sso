webpackJsonp([5],{"/8QS":function(e,t){},FFgD:function(e,t){},b03O:function(e,t,s){e.exports=s.p+"static/img/login_l.ad6eb15.png"},o3tD:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("bS7a"),a={name:"SmsLogin",mixins:[i.e,i.b,i.a]},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"SmsLogin"},[s("el-form",{ref:"loginForm",attrs:{model:e.loginForm,rules:e.loginRules,"status-icon":""}},[s("el-form-item",{attrs:{prop:"phone"}},[s("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.loginForm.phone,callback:function(t){e.$set(e.loginForm,"phone",t)},expression:"loginForm.phone"}})],1),e._v(" "),e.securityLevel>0?s("el-form-item",{staticClass:"sidentify-wrapper",attrs:{prop:"sidentify"}},[s("div",{staticClass:"item-wrapper"},[s("div",{staticClass:"el-input-wrapper"},[s("el-input",{attrs:{placeholder:"请输入答案"},model:{value:e.loginForm.sidentify,callback:function(t){e.$set(e.loginForm,"sidentify",t)},expression:"loginForm.sidentify"}})],1),e._v(" "),s("div",{staticClass:"login-code",staticStyle:{width:"120px",height:"40px",border:"1px solid #d7dae2","border-radius":"4px",overflow:"hidden","box-sizing":"border-box"},on:{click:e.refreshCode}},[s("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.refresh.b64s,lazy:""}})],1)])]):e._e(),e._v(" "),s("el-form-item",{staticClass:"smsCode-wrapper",attrs:{prop:"code"}},[s("div",{staticClass:"item-wrapper"},[s("div",{staticClass:"el-input-wrapper"},[s("el-input",{attrs:{placeholder:"请输入短信验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("loginForm",t)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}})],1),e._v(" "),s("button",{class:e.show?"send-button block":"send-button_s block",attrs:{type:"button"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],on:{click:e.getCode}},[e._v("发送验证码")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"count"},[e._v(e._s(e.count)+"s后重新发送")])])])]),e._v(" "),s("div",{staticClass:"item-text"},[e._v("未注册的手机号验证后自动创建账户")]),e._v(" "),s("el-form-item",{staticClass:"submit-wrapper"},[s("button",{staticClass:"submit",attrs:{type:"button"},on:{click:function(t){return e.submitForm("loginForm",t)}}},[e._v("登录")])]),e._v(" "),s("el-form-item",{staticClass:"desc-wrapper",attrs:{prop:"key"}},[s("el-row",{attrs:{span:24,gutter:17}},[s("el-col",{attrs:{span:14}},[s("el-checkbox",{model:{value:e.loginForm.key,callback:function(t){e.$set(e.loginForm,"key",t)},expression:"loginForm.key"}},[e._v("\n            我已阅读并接受\n            "),s("router-link",{staticClass:"yellow",attrs:{tag:"span",to:{path:"agreement",query:{name:"user"}}}},[e._v("用户协议")]),e._v(" 和\n            "),s("router-link",{staticClass:"yellow",attrs:{tag:"span",to:{path:"agreement",query:{name:"policy"}}}},[e._v("隐私政策")])],1)],1)],1)],1)],1),e._v(" "),s("div",{staticClass:"third-party"},[s("div",{staticClass:"icon-wrapper"},[s("div",{staticClass:"icon left",on:{click:e.wechat}},[s("i",{staticClass:"icon-48-38-60-47 iconfont"})])]),e._v(" "),s("div",{staticClass:"title-wrapper"},[e._v("客户端扫码登录")])])],1)},staticRenderFns:[]},r=s("VU/8")(a,n,!1,null,null,null).exports,o={name:"PasswordLogin",mixins:[i.c,i.b,i.d,i.a]},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"passwordLogin"},[s("el-form",{ref:"loginForm",attrs:{rules:e.Rules,model:e.loginForm,autocomplete:"on"}},[s("el-form-item",{attrs:{prop:"userName","status-icon":""}},[s("el-input",{attrs:{spellcheck:"false",autocomplete:"on",placeholder:"请输入手机号/用户名"},model:{value:e.loginForm.userName,callback:function(t){e.$set(e.loginForm,"userName",t)},expression:"loginForm.userName"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{ref:"password",attrs:{type:e.pwdType,autocomplete:"on",spellcheck:"false",placeholder:"请输入密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),e._v(" "),s("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[s("svg-icon",{attrs:{"icon-class":"eye"}})],1)],1),e._v(" "),s("el-form-item",{staticClass:"sidentify-wrapper",attrs:{prop:"sidentify"}},[s("div",{staticClass:"item-wrapper"},[s("div",{staticClass:"el-input-wrapper"},[s("el-input",{attrs:{placeholder:"请输入图形验证码"},model:{value:e.loginForm.sidentify,callback:function(t){e.$set(e.loginForm,"sidentify",t)},expression:"loginForm.sidentify"}})],1),e._v(" "),s("div",{staticClass:"login-code",staticStyle:{width:"120px",height:"40px",border:"1px solid #d7dae2","border-radius":"4px",overflow:"hidden","box-sizing":"border-box"},on:{click:e.refreshCode}},[s("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.refresh.b64s,lazy:""}})],1)])]),e._v(" "),s("el-form-item",{staticClass:"submit-wrapper"},[s("button",{staticClass:"submit",attrs:{type:"button"},on:{click:function(t){return e.submitForm("loginForm",t)}}},[e._v("登录")])]),e._v(" "),s("el-form-item",{staticClass:"desc-wrapper"},[s("div",{staticStyle:{flex:"1"}},[s("el-checkbox",{staticStyle:{color:"#a0a0a0"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")])],1),e._v(" "),s("div",{staticStyle:{flex:"1",display:"inline-flex","justify-content":"flex-end"}},[s("router-link",{staticClass:"text-wrapper",attrs:{to:"retrieve"}},[e._v("忘记密码")])],1)])],1)],1)},staticRenderFns:[]},c=s("VU/8")(o,l,!1,null,null,null).exports,p=s("k3x/"),d=s("PdNh"),u={name:"WechatLogin",components:{},props:{isInit:{type:Boolean,default:!1}},data:function(){return{url:"",scene_str:null,id:null,qid:null,sid:null,state:!1}},watch:{isInit:function(e){var t=this;if(e){var s=this;this.sid=setTimeout(function(){t.state||t.previousPage("sms")},6e4),this.id=setInterval(function(){t.$store.dispatch("wechat_login",{appid:t.appid,scene_str:t.scene_str}).then(function(e){s.state=!0,s.clearTiming(),s.$message({message:"未绑定手机号，需先绑定手机号",type:"warning"}),s.$router.push({name:"bind",params:{uuid:e.wechat.id,code:e.disposable_code}})}).catch(function(e){s.$router.push({name:"account"})})},1500)}else this.state=!1}},computed:{appid:function(){return d.a.appid}},methods:{qrcode:function(){var e=this;Object(p.c)({appid:this.appid}).then(function(t){var s=t.data;e.url=s.url,e.scene_str=s.scene})},previousPage:function(e){null!==this.id&&this.clearTiming(),this.$emit("previousPage",e)},clearTiming:function(){clearTimeout(this.qid),clearTimeout(this.sid),clearInterval(this.id)}},created:function(){var e=this;this.$nextTick(function(t){e.qrcode(),e.qid=setInterval(function(){e.qrcode()},24e4)})},beforeRouteLeave:function(e,t,s){null!==this.id&&this.clearTiming(),s()},beforeDestroy:function(){null!==this.id&&this.clearTiming()}},m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrchat"},[s("div",{staticClass:"body-wrapper"},[s("el-image",{staticStyle:{width:"260px",height:"260px"},attrs:{src:e.url}})],1),e._v(" "),e._m(0),e._v(" "),s("div",{staticClass:"footer-wrapper"},[s("a",{on:{click:function(t){return e.previousPage("password")}}},[e._v("密码登录")]),e._v(" "),s("el-divider",{attrs:{direction:"vertical"}}),e._v(" "),s("a",{on:{click:function(t){return e.previousPage("sms")}}},[e._v("验证码登录")])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"third-party"},[t("div",{staticClass:"icon-wrapper"},[t("div",{staticClass:"icon left"},[t("i",{staticClass:"icon-48-38-60-47 iconfont"})])]),this._v(" "),t("div",{staticClass:"title-wrapper"},[this._v("客户端扫码登录")])])}]};var v={components:{SmsLogin:r,PasswordLogin:c,WechatLogin:s("VU/8")(u,m,!1,function(e){s("/8QS")},"data-v-0e8273f3",null).exports},data:function(){return{activeName:"sms",isWechat:!1,isInit:!1}},methods:{wechat:function(){this.isWechat=!0,this.isInit=!0},previousPage:function(e){this.activeName=e,this.isWechat=!1,this.isInit=!1}},created:function(){this.$emit("customStyle",0)}},h={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"content"},[s("div",{staticClass:"center-wrapper"},[e._m(0),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.isWechat,expression:"!isWechat"}],staticClass:"right-wrapper"},[s("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"短信登录",lazy:!0,name:"sms"}},[s("sms-login",{on:{wechat:e.wechat}})],1),e._v(" "),s("el-tab-pane",{attrs:{label:"密码登录",lazy:!0,name:"password"}},[s("password-login")],1)],1)],1),e._v(" "),s("wechat-login",{directives:[{name:"show",rawName:"v-show",value:e.isWechat,expression:"isWechat"}],attrs:{isInit:e.isInit},on:{previousPage:e.previousPage}})],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"left-wrapper"},[t("img",{attrs:{src:s("b03O")}})])}]};var f=s("VU/8")(v,h,!1,function(e){s("FFgD")},"data-v-e001d09a",null);t.default=f.exports}});
//# sourceMappingURL=5.283bd0995891c6019504.js.map