webpackJsonp([8],{ZJEu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Xxa5"),n=a.n(s),r=a("exGp"),o=a.n(r),i=a("vMJZ"),c=a("E4LH"),u={components:{},props:{},data:function(){return{show:!1,user:{note:{}},form:{user_name:""}}},computed:{},methods:{getUserInfo:function(){var e=this;return o()(n.a.mark(function t(){var a,s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(i.j)();case 3:a=t.sent,s=a.data,e.user=s,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.response.data);case 11:case"end":return t.stop()}},t,e,[[0,8]])}))()},removebind:function(){var e=this;return o()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.e)({scheme:1});case 2:e.getUserInfo(),e.$toast("解除成功!");case 4:case"end":return t.stop()}},t,e)}))()},actionClose:function(e,t){"confirm"===e?this.rules().then(function(e){e?t():t(!1)}):t()},logout:function(){this.$store.dispatch("LogOut").then(function(){location.reload()})},save:function(){var e,t=this;this.rules().then((e=o()(n.a.mark(function e(a){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,Object(i.k)({user_name:t.form.user_name});case 3:t.getUserInfo(),t.$toast("你的是新用户名: "+t.form.user_name);case 5:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},rules:function(){var e=this;return o()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""===e.form.user_name){t.next=6;break}if(Object(c.f)(e.form.user_name)){t.next=4;break}return e.$toast("用户名不符合规则"),t.abrupt("return",!1);case 4:t.next=8;break;case 6:return e.$toast("请输入用户名"),t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t,e)}))()}},created:function(){var e=this;this.$route.query.name&&(this.activeName=this.$route.query.name),this.$nextTick(function(){e.getUserInfo()})},mounted:function(){}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"account-wrapper"},[a("div",{staticClass:"head"},[a("div",{staticClass:"head-bg"}),e._v(" "),a("div",{staticClass:"center"},[a("div",{staticClass:"logout",on:{click:e.logout}},[e._v("退出登录")]),e._v(" "),a("div",{staticClass:"user-info"},[a("div",{staticClass:"image"},[a("van-image",{attrs:{src:e.user.associated?e.user.associated.officia_account_of_wechat.avatar_url:"url"},scopedSlots:e._u([{key:"error",fn:function(){return[a("van-image",{attrs:{src:"../../../../static/image/mobile/tx.png"}})]},proxy:!0}])})],1),e._v(" "),a("ul",[a("li",[a("label",[e._v("用户名：")]),e._v(" "),a("span",[e._v(e._s(e.user.user_name))]),e._v(" "),a("i",{staticClass:"el-icon-edit-outline",on:{click:function(t){t.stopPropagation(),e.show=!0}}})]),e._v(" "),a("li",[a("label",[e._v("用户编号：")]),e._v(" "),a("span",[e._v(e._s(e.user.uid))])])]),e._v(" "),a("div",{staticClass:"right-bg"})])])]),e._v(" "),a("van-cell-group",[a("van-cell",{attrs:{center:"",title:"绑定手机",label:e.user.phone_num,value:"去修改","is-link":""}}),e._v(" "),e.user.note.pass_set_status?a("van-cell",{attrs:{title:"密码",value:"已设置","is-link":""}}):a("van-cell",{attrs:{title:"密码",value:"设置","is-link":""}})],1),e._v(" "),a("div",{staticClass:"personal-title"},[e._v("第三方应用")]),e._v(" "),a("van-cell-group",[a("van-cell",{attrs:{center:""},scopedSlots:e._u([{key:"title",fn:function(){return[a("div",{staticClass:"icon-font wechat"},[a("van-icon",{attrs:{"class-prefix":"iconfont icon-48-38-60-47",name:"icon-48-38-60-47"}})],1),e._v(" "),a("span",{staticClass:"custom-title"},[e._v("微信")]),e._v(" "),a("span",{staticClass:"custom-name"},[e._v(e._s(e.user.associated?e.user.associated.officia_account_of_wechat.nickname:"未绑定"))])]},proxy:!0},{key:"default",fn:function(){return[a("span",{directives:[{name:"show",rawName:"v-show",value:e.user.associated,expression:"user.associated"}],on:{click:e.removebind}},[e._v("解绑")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.user.associated,expression:"!user.associated"}]},[e._v("绑定")])]},proxy:!0}])})],1),e._v(" "),a("van-dialog",{attrs:{title:"用户名",beforeClose:e.actionClose,"show-cancel-button":""},on:{confirm:e.save},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("form",{ref:"form-wrapper",staticClass:"form-wrapper",attrs:{action:""}},[a("div",{staticClass:"input-wrapper"},[a("div",{staticClass:"text-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.user_name,expression:"form.user_name"}],attrs:{type:"text",placeholder:"请输入新用户名"},domProps:{value:e.form.user_name},on:{input:function(t){t.target.composing||e.$set(e.form,"user_name",t.target.value)}}})])]),e._v(" "),e._e()])])],1)},staticRenderFns:[]};var v=a("VU/8")(u,l,!1,function(e){a("penE")},"data-v-d7515f86",null);t.default=v.exports},penE:function(e,t){}});
//# sourceMappingURL=8.b26b8f3fb2f6de906237.js.map